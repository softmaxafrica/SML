<!--<p-messages [(value)]="messages" [closable]="true" [style]="{ 'margin': '1rem', 'width': '100%' }"></p-messages>-->


<div class="flex align-items-center justify-content-center h-screen">
  <div class="w-full sm:w-10 md:w-6 lg:w-4">

    <!-- Loading Spinner -->
    <div *ngIf="isLoading" class="flex justify-content-center mb-4">
      <p-progressSpinner strokeWidth="8"
                         fill="transparent"
                         animationDuration="3s"
                         [style]="{ width: '50px', height: '50px' }">
      </p-progressSpinner>
    </div>

    <!-- Login Form (Hidden when loading) -->
    <p-card *ngIf="!isLoading" header="{{ 'login' | translate }}">
      <div class="p-fluid">

        <!-- Email Field -->
        <div class="field mb-3">
          <label for="email">{{ 'email' | translate }}</label>
          <span class="p-input-icon-left w-full">
            <i class="pi pi-envelope"></i>
            <input pInputText
                   id="email"
                   type="email"
                   [(ngModel)]="email"
                   placeholder="{{ 'email' | translate }}"
                   class="w-full" />
          </span>
        </div>

        <!-- Password Field -->
        <div class="field mb-3">
          <label for="password">{{ 'password' | translate }}</label>
          <span class="p-input-icon-left w-full">
            <i class="pi pi-lock"></i>
            <input pInputText
                   id="password"
                   type="password"
                   [(ngModel)]="password"
                   placeholder="{{ 'enter_password' | translate }}"
                   class="w-full" />
          </span>
        </div>

        <!-- Action Buttons -->
        <div class="flex justify-content-end gap-2">
          <p-button label="{{ 'login' | translate }}"
                    icon="pi pi-sign-in"
                    severity="help"
                    rounded="true"
                    [disabled]="!isFormValid() || isLoading"
                    (click)="onLogin()"></p-button>


          <p-button label="{{ 'register' | translate }}"
                    icon="pi pi-user-plus"
                    severity="info"
                    rounded="true"
                     (onClick)="openChooseAccountDialog()"></p-button>
        </div>

      </div>
    </p-card>


    <p-dialog 
    [(visible)]="chooseAccountDialog" 
    [header]="'New Account Type'" 
    [modal]="true" 
    [style]="{ width: '50vw' }">
    
    <p>Please choose What kind of Account You Prefer !</p>
    
    <div class="flex justify-content-end gap-4">

        <p-button label="Transport Company" icon="pi pi-user-send" outlined="true"  routerLink="/account/registration"  rounded="true" severity="help"></p-button>
        <p-button label="Customer & Clearing Company" icon="pi pi-group" outlined="true"  routerLink="/account/customer-registration" rounded="true" severity="info"></p-button>

     </div>
      </p-dialog>

  </div>
</div>
